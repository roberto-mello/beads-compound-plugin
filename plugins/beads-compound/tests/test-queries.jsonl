{"query": "ViaCEP", "description": "Exact match - find entries about ViaCEP API", "relevant_keys": ["learned-fact-viacep-api-returns-400-bad-request-when-street-city-co", "fact-brasilapi-open-cep-service-does-not-return-ibge-city-codes"]}
{"query": "E0014", "description": "Exact match - government NFSe error code", "relevant_keys": ["learned-government-nfse-api-e0014-rejects-any-resubmission-of-same-d", "fact-nfse-government-api-error-e0014-rejects-any-dps-with-same-se"]}
{"query": "pynfse-nacional", "description": "Exact match - the NFSe library name", "relevant_keys": ["learned-pynfse-nacional-0-4-0-had-bug-xml-element-subst1-should-b", "decision-client-code-medsimples-generates-dps-numero-not-the-libra"]}
{"query": "db commit RLS reset", "description": "Partial terms - find entries about RLS context lost after commit", "relevant_keys": ["investigation-postgresql-set-session-variables-app-is-superadmin-app-org", "pattern-whenever-a-background-task-or-service-method-calls-db-commit", "learned-rls-session-variables-app-org-id-app-is-superadmin-reset", "pattern-in-substitute-nfse-use-db-flush-instead-of-db-commit-be", "pattern-in-routers-that-create-records-and-need-to-re-query-with-rel"]}
{"query": "payment methods Brazil", "description": "Partial terms - find Stripe/PIX/Boleto payment entries", "relevant_keys": ["decision-payment-method-priority-for-brazil-implementation-1-primary", "fact-stripe-connect-brazil-regulatory-restrictions-platforms-ou", "learned-stripe-payment-methods-in-brazil-require-proper-portuguese-a", "investigation-iof-tax-currency-considerations-iof-imposto-sobre-opera", "pattern-python-sdk-paymentintent-implementation-create-paymentinte"]}
{"query": "how to avoid data loss in phone migration", "description": "Conceptual - migration safety for phone number changes", "relevant_keys": ["fact-common-migration-pitfalls-1-data-loss-from-aggressive-no", "pattern-migration-from-single-field-to-country-code-split-1-add", "learned-always-analyze-production-data-before-writing-migration-stra", "decision-created-phone-migration-strategy-md-and-pre-migration-phone", "investigation-production-database-analysis-completed-results-1-country"]}
{"query": "query returns null after saving", "description": "Conceptual - cache/flush issues after database writes", "relevant_keys": ["investigation-root-cause-is-missing-clearapicache-call-after-cachedaxios", "pattern-in-routers-that-create-records-and-need-to-re-query-with-rel", "investigation-post-api-visits-rxvisits-returned-200-but-pydantic-serializ", "learned-pydantic-with-from-attributes-true-only-serializes-fields-ex"]}
{"query": "Stripe Brazil restrictions", "description": "Multi-word - Stripe platform limitations in Brazil", "relevant_keys": ["fact-stripe-connect-brazil-regulatory-restrictions-platforms-ou", "decision-payment-method-priority-for-brazil-implementation-1-primary", "learned-stripe-payment-methods-in-brazil-require-proper-portuguese-a", "investigation-iof-tax-currency-considerations-iof-imposto-sobre-opera"]}
{"query": "phone number validation", "description": "Multi-word - phone validation across frontend and backend", "relevant_keys": ["learned-backend-phone-validation-tests-now-comprehensive-added-tes", "learned-phoneinput-accessibility-requires-consistent-errorid-across", "learned-pydantic-field-validator-with-validationinfo-allows-accessin", "investigation-e-164-format-is-itu-t-international-phone-standard-structur", "fact-brazil-55-has-special-validation-rules-for-whatsapp-braz", "decision-added-phone-number-max-length-validation-in-format-phone-e16", "pattern-best-practices-for-e-164-normalization-before-whatsapp-api-c"]}
{"query": "RLS", "description": "Abbreviation - row level security entries", "relevant_keys": ["investigation-postgresql-set-session-variables-app-is-superadmin-app-org", "pattern-whenever-a-background-task-or-service-method-calls-db-commit", "learned-rls-session-variables-app-org-id-app-is-superadmin-reset", "fact-rls-policy-on-rx-visits-rx-visits-tenant-isolation-checks", "fact-rls-context-is-set-by-require-clinical-access-via-get-curren", "pattern-in-substitute-nfse-use-db-flush-instead-of-db-commit-be"]}
{"query": "NFSe fiscal invoice", "description": "Abbreviation + related terms - fiscal document issuance", "relevant_keys": ["investigation-nfse-error-e0240-cep-nao-existe-ou-nao-pertence-ao-municip", "learned-government-nfse-api-e0014-rejects-any-resubmission-of-same-d", "fact-nfse-substitution-has-35-day-limit-calculated-using-brazilia", "fact-nfse-government-api-error-e0014-rejects-any-dps-with-same-se", "fact-nfse-service-description-now-includes-visit-date-in-format", "decision-allow-retry-of-stuck-processing-issuances-by-removing-the-ha", "learned-pynfse-nacional-0-4-0-had-bug-xml-element-subst1-should-b"]}
{"query": "cursor pointer text selection", "description": "UI pattern - specific CSS interaction issue", "relevant_keys": ["pattern-cursor-pointer-on-tablerow-elements-prevents-text-selection"]}
{"query": "Portuguese accents i18n", "description": "UI pattern - accent/internationalization issues", "relevant_keys": ["pattern-portuguese-accents-missing-in-several-ui-strings-check-for", "learned-stripe-payment-methods-in-brazil-require-proper-portuguese-a"]}
{"query": "webhook secret authentication", "description": "Cross-domain - service-to-service auth", "relevant_keys": ["learned-cognitest-assignment-uses-x-webhook-secret-header-for-servic", "decision-unify-on-one-shared-secret-cognitest-webhook-secret-with-o", "pattern-service-to-service-webhook-pattern-graceful-degradation-on", "pattern-service-to-service-endpoints-post-api-cognitest-resource"]}
{"query": "security phone masking XSS", "description": "Cross-domain - security across different features", "relevant_keys": ["fact-security-considerations-phone-numbers-are-injection-vector", "learned-phone-masking-implementation-verified-with-unit-tests-all-r", "learned-security-through-defense-in-depth-is-more-practical-than-sin", "pattern-pii-in-audit-logs-requires-balancing-privacy-with-operationa"]}
{"query": "Pydantic serialization validation", "description": "Technical - Pydantic-specific issues", "relevant_keys": ["learned-pydantic-with-from-attributes-true-only-serializes-fields-ex", "investigation-post-api-visits-rxvisits-returned-200-but-pydantic-serializ", "learned-pydantic-field-validator-with-validationinfo-allows-accessin", "learned-pydantic-v2-field-validator-order-can-be-controlled-with-mod"]}
{"query": "flush instead of commit", "description": "Specific pattern - db.flush vs db.commit", "relevant_keys": ["pattern-in-substitute-nfse-use-db-flush-instead-of-db-commit-be", "pattern-in-routers-that-create-records-and-need-to-re-query-with-rel", "pattern-atomic-onboarding-transaction-pattern-use-db-flush-betwe", "learned-rls-session-variables-app-org-id-app-is-superadmin-reset"]}
{"query": "GDPR LGPD data retention", "description": "Compliance - privacy regulation entries", "relevant_keys": ["learned-gdpr-lgpd-medical-records-deletion-requires-1-response-wit", "fact-brazilian-lgpd-requires-20-year-minimum-retention-for-medica", "fact-gdpr-article-20-requires-data-portability-in-structured-com", "pattern-gdpr-compliance-requires-multi-phase-implementation-phase-1", "pattern-gdpr-audit-logs-must-contain-metadata-without-pii-log-requ", "investigation-no-deletion-endpoints-exist-currently-patients-and-doctors"]}
{"query": "CEP address lookup", "description": "Feature-specific - postal code validation", "relevant_keys": ["learned-fact-viacep-api-returns-400-bad-request-when-street-city-co", "investigation-nfse-error-e0240-cep-nao-existe-ou-nao-pertence-ao-municip", "fact-brasilapi-open-cep-service-does-not-return-ibge-city-codes", "pattern-cep-validation-uses-sync-wrapper-validate-cep-sync-that-ru"]}
{"query": "structured logging event names", "description": "Logging patterns - event naming conventions", "relevant_keys": ["pattern-event-names-use-snake-case-past-tense-domain-prefix-when-h", "pattern-migrate-logging-with-event-names-snake-case-past-tense-do", "pattern-use-logger-bind-for-request-scoped-context-with-entity-ids", "learned-structured-logging-epic-pattern-wave-1-deps-config-prin", "decision-downgrade-router-inclusion-and-static-file-discovery-logs-to"]}
{"query": "CogniTest credits free", "description": "Feature - credits system and free tier", "relevant_keys": ["fact-free-credits-system-is-broken-new-orgs-registered-via-meds", "learned-frontend-credits-widget-complete-created-creditswidget-svel", "learned-backend-integration-complete-modified-create-session-endpoi", "learned-cognitest-pricing-uses-lazy-initialization-call-post-api"]}
{"query": "environment variables production deploy", "description": "DevOps - env var configuration for deployment", "relevant_keys": ["fact-for-prod-builds-set-env-inline-vite-cognitest-api-url-http", "pattern-vite-bakes-vite-env-vars-into-the-js-bundle-at-build-time", "decision-used-env-production-as-single-source-of-truth-for-prod-fron", "learned-fastapi-s-pydantic-settings-are-loaded-at-startup-changing", "fact-vite-api-url-is-only-used-in-vite-config-ts-dev-proxy-not-i", "pattern-when-one-frontend-needs-to-call-another-service-s-api-both"]}
{"query": "React useCallback re-render", "description": "React-specific performance pattern", "relevant_keys": ["learned-functions-created-during-render-cause-unnecessary-re-renders", "learned-controlled-components-should-not-maintain-internal-state-for", "learned-react-keys-must-be-unique-across-all-items-in-a-list-not-ju"]}
{"query": "Alembic migration model columns", "description": "Database migration patterns", "relevant_keys": ["learned-when-adding-columns-via-alembic-migration-must-also-add-cor", "pattern-backend-schema-changes-require-1-model-update-2-alembic", "decision-added-phone-and-phone-country-columns-to-user-model-at-lines", "decision-converted-cognitest-from-varchar-36-to-native-postgresql-uu"]}
{"query": "WhatsApp E.164 format", "description": "Integration - WhatsApp phone formatting requirements", "relevant_keys": ["investigation-whatsapp-business-api-requires-e-164-format-for-all-phone-nu", "investigation-e-164-format-is-itu-t-international-phone-standard-structur", "fact-whatsapp-api-excludes-certain-countries-from-messaging-crim", "pattern-best-practices-for-e-164-normalization-before-whatsapp-api-c", "learned-e-164-formatting-should-happen-at-validation-time-not-at-ap"]}
