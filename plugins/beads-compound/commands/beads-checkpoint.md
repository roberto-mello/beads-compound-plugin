---
name: beads-checkpoint
description: Save session progress by filing beads, capturing knowledge, and syncing state
---

# Beads Checkpoint

Save session progress by filing beads for work done and capturing knowledge comments, without ending the session.

## Usage

```
/beads-checkpoint
```

## Workflow

### Step 1: Review Session Work

Scan the conversation history for:
- Code changes made: `git diff` and `git diff --cached`
- Bugs fixed, features added, refactors performed
- Technical decisions made
- Insights discovered

### Step 2: File Beads Issues

For each distinct unit of work done during this session that doesn't already have a bead:

```bash
bd create --title="<descriptive title>" --type=<task|bug|feature> --priority=2
```

If work is complete, close it immediately:

```bash
bd close <id>
```

If work is in progress, mark it:

```bash
bd update <id> --status=in_progress
```

Check existing issues first to avoid duplicates:

```bash
bd list --status=open
bd list --status=in_progress
```

### Step 3: Add Knowledge Comments

For each filed or existing bead that was worked on, add at least one knowledge comment:

```bash
bd comment add <id> "LEARNED: <key technical insight>"
bd comment add <id> "DECISION: <what was chosen and why>"
bd comment add <id> "FACT: <constraint, gotcha, or environment detail>"
bd comment add <id> "PATTERN: <recurring convention or idiom>"
bd comment add <id> "INVESTIGATION: <root cause analysis>"
```

These will be auto-captured by the memory-capture hook.

### Step 4: Commit Changes

If there are uncommitted changes:

1. Check status: `git status`
2. Stage only session-changed files (NOT `git add -A`)
3. Commit with descriptive message

### Step 5: Sync Beads

```bash
bd sync --flush-only
```

### Step 6: Optional Simplicity Check

If significant code was written this session, offer a quick code-simplicity check:

Use **AskUserQuestion tool**: "Would you like a quick simplicity review of the code changes?"

If yes:
- Task code-simplicity-reviewer("Review the code changes from this session for unnecessary complexity")

### Step 7: Suggest Knowledge Capture

If problems were solved during this session, suggest documenting them:

"You solved some interesting problems this session. Want to run `/beads-compound` to capture them as reusable knowledge?"

### Step 8: Report

Print a summary:

```
Checkpoint saved:

Beads created:
- BD-123: Fix login validation
- BD-124: Add password reset flow

Beads closed:
- BD-120: Update user schema

Knowledge captured:
- LEARNED: OAuth tokens expire after 1 hour
- DECISION: Using JWT for session management
- FACT: PostgreSQL constraints prevent duplicate emails

Remaining in-progress:
- BD-124: Add password reset flow (40% complete)

Session continues. Use /beads-checkpoint again to save more progress.
```

## Notes

- Context is preserved - you can keep working
- Use this frequently during long sessions
- All knowledge is auto-captured and will be available next session
- Beads are synced but not pushed (use `bd push` separately if needed)
